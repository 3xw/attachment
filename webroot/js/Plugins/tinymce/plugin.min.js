!function(a,t){var s=t.component("attachment-tinymce",{template:'<div><small><i>packed with attachment</i> ðŸ¤“</small><attachment-upload :aid="aid" :settings.sync="settings" ></attachment-upload><attachment-browse :aid="aid" :types="settings.types" :tags="settings.atags" :settings="settings" from="tinymce"></attachment-browse><attachment-inline-options :aid="aid" :file="file" :settings="settings"></attachment-inline-options></div>',props:{settings:Object,aid:String},data:function(){return{file:null}},created:function(){a.aEventHub[this.aid]=new t,window.aEventHub[this.aid].$on("browse-closed",this.openOptions),window.aEventHub[this.aid].$on("upload-closed",this.openOptions)},methods:{openOptions:function(){this.file=this.settings.attachments.shift(),this.file&&a.aEventHub[this.aid].$emit("show-options")}}});!function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=(tinymce.util.Tools.resolve("tinymce.Env"),tinymce.settings.attachment_settings),e=n.field;console.log(n);var i=new s({propsData:{settings:n,aid:e}});i.$mount(),a.vueTinymce[e].$el.appendChild(i.$el),t.add("attachment",function(t){t.addButton("attachment",{type:"splitbutton",text:"MÃ©dia",icon:"image",menu:[{text:"TÃ©lÃ©charger",onclick:function(){a.aEventHub[e].$emit("show-upload")}},{text:"Parcourir",onclick:function(){a.aEventHub[e].$emit("show-browse")}}]})})}()}(window,Vue);